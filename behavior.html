<! DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>Demo</title>
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.44.0/mapbox-gl.css' rel='stylesheet' />
    <link href="style.css" rel="stylesheet" />
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.44.0/mapbox-gl.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js"></script>
    <script src="Highmaps-6/code/highcharts.js"></script>
    <script src='Highmaps-6/code/js/modules/map.js'></script>
    <script src="Highmaps-6/code/modules/data.js"></script>
    <script src="https://code.highcharts.com/mapdata/countries/us/us-all.js"></script>
    <script src='jquery-3.3.1.js'></script>
</head>

<body style="background-color: #f6f6f6;">

    <div id="searchBar" class="fixed">
        <p style="padding-left: 15px; margin-top: 13px;">Peet's Coffee and Tea</p>
    </div>
    <div id="dateBar" class="fixed">
        <p style="padding-left: 15px; margin-top: 13px;">Past 5 minutes</p>
    </div>

    <div id="container" class="fixed">
        <div id="tabs" class="fixed">
            <a href="index.html"><h2 style="margin-right: 10px;" class="inline">Footfall</h2></a>
            <a href="behavior.html" class="active"><h2 style="margin-right: 10px;"  class="inline">Behavior</h2></a>
            <a href="demo.html"><h2 style="margin-right: 10px;"  class="inline">Demographics</h2></a>
            <a href="user.html"><h2 style="margin-right: 10px;"  class="inline">User Journey</h2></a>
        </div>

        <div id='behavior' class="fixed">
            <h3>Behavioral Segments More Likely to Visit</h3>
            <canvas id="profiles" width="580" height="180"></canvas>
        </div>

        <div class="fixed" style="left: 40px; top: 610px;">
            <h3>Most likely to visit if has been to...</h3>
        </div>

        <div id='chDiv' class="fixed" style="width: 580px; height: 280px;">

            <h3>Chains</h3>
            <canvas id="ch" width="580" height="260"></canvas>
        </div>

        <div id='catDiv' class="fixed" style="width: 580px; height: 280px;">
            <h3>Categories</h3>
            <canvas id="cat" width="580" height="260"></canvas>
        </div>

    </div>


    <script>
        //Chains Before
        var chB = document.getElementById("profiles").getContext('2d');
        var chBef = new Chart(chB, {
            type: 'bar',
            data: {
                labels: [
                    "NFL Enthusiasts (Pro Football Fan)", "Newlyweds", "Golfers", "Public Transportation Commuters (Daily Commuter)", "Live Sports Fans", "Luxury Hotel Loyalists", "New Home Owners", "Car Commuters (Daily Commuter)", "In-Market Auto Intenders - Eco-Friendly Cars (Green Cars)", "In-Market Auto Intenders - Luxury Cars"
                ],
                datasets: [{
                    label: 'Peet\'s',
                    data: [1.773108, 1.634918462, 1.549589498, 1.544565622, 1.535975702, 1.517965008, 1.488729267, 1.468422774, 1.443546843, 1.442860624],
                    backgroundColor: 'rgba(255, 170, 34, 0.6)',
                    borderColor: 'rgb(255, 170, 34)',
                    borderWidth: 1
                }, {
                    label: 'Average',
                    data: [1.773108, 1.634918462, 1.549589498, 1.544565622, 1.535975702, 1.517965008, 1.488729267, 1.468422774, 1.443546843, 1.442860624],
                    backgroundColor: 'rgba(187, 187, 187, 0.6)',
                    borderColor: 'rgb(153, 153, 153)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true,
                        },
                        scaleLabel: {
                            display: true,
                            labelString: 'Odds Ratio in %',
                        }
                    }],
                    xAxes: [{
                        gridLines: {
                            offsetGridLines: false
                        },
                        ticks: {
                            maxRotation: 0,
                            autoSkip: false,
                            callback: function(value) {
                                return (value.substr(0, 12) + '..'); //truncate
                            },
                        }
                    }]
                },
                tooltips: {
                    enabled: true,
                    mode: 'label',
                    callbacks: {
                        title: function(tooltipItems, data) {
                            var idx = tooltipItems[0].index;
                            return data.labels[idx]; //do something with title
                        },
                    }
                },
                legend: {
                    display: false
                },
            }
        });

        //Chains Before
        var ch = document.getElementById("ch").getContext('2d');
        var cha = new Chart(ch, {
            type: 'bar',
            data: {
                labels: [
                    "Dior", "Marc Jacobs", "Peet\'s Coffee and Tea", "Omaha Steaks", "Tesla Service Center", "800 Degrees Neapolitan Pizzeria", "Maggiano's", "Pavilions", "Veggie Grill", "City National Bank", "Hopdoddy Burger Bar"
                ],
                datasets: [{
                    label: 'Peet\'s',
                    data: [3.621318893, 3.309941718, 3.238725775, 2.689933176, 2.660154403, 2.599122612, 2.372253786, 2.199418286, 2.130711514, 2.123904053, 2.108087182, ],
                    backgroundColor: 'rgba(255, 170, 34, 0.6)',
                    borderColor: 'rgb(255, 170, 34)',
                    borderWidth: 1
                }, {
                    label: 'Average',
                    data: [3.621318893, 3.309941718, 3.238725775, 2.689933176, 2.660154403, 2.599122612, 2.372253786, 2.199418286, 2.130711514, 2.123904053, 2.108087182, ],
                    backgroundColor: 'rgba(187, 187, 187, 0.6)',
                    borderColor: 'rgb(153, 153, 153)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        },
                        scaleLabel: {
                            display: true,
                            labelString: 'Odds Ratio in %',
                        }
                    }],
                    xAxes: [{
                        gridLines: {
                            offsetGridLines: false
                        },
                        ticks: {
                            maxRotation: 0,
                            autoSkip: false,
                            callback: function(value) {
                                return (value.substr(0, 4) + '..'); //truncate
                            },
                        }
                    }]
                },
                tooltips: {
                    enabled: true,
                    mode: 'label',
                    callbacks: {
                        title: function(tooltipItems, data) {
                            var idx = tooltipItems[0].index;
                            return data.labels[idx]; //do something with title
                        },
                    }
                },
                legend: {
                    display: false
                },
            }
        });

        //Chains After
        var ca = document.getElementById("cat").getContext('2d');
        var cat = new Chart(ca, {
            type: 'bar',
            data: {
                labels: [
                    "Paper", "Boarding Houses", "Swimwear", "Translation Services", "Stock Brokers", "Newsstands", "Embassies", "Adult Education", "Fashion", "Ambulance", "Costumes"
                ],
                datasets: [{
                    label: 'Peet\'s',
                    data: [3.40383121, 2.498100952, 2.367780831, 2.198091359, 2.06414619, 2.032381266, 1.994083094, 1.966820518, 1.940562958, 1.843012859, 1.830737648, ],
                    backgroundColor: 'rgba(255, 170, 34, 0.6)',
                    borderColor: 'rgb(255, 170, 34)',
                    borderWidth: 1
                }, {
                    label: 'Average',
                    data: [3.40383121, 2.498100952, 2.367780831, 2.198091359, 2.06414619, 2.032381266, 1.994083094, 1.966820518, 1.940562958, 1.843012859, 1.830737648, ],
                    backgroundColor: 'rgba(187, 187, 187, 0.6)',
                    borderColor: 'rgb(153, 153, 153)',
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        },
                        scaleLabel: {
                            display: true,
                            labelString: 'Odds Ratio in %',
                        }
                    }],
                    xAxes: [{
                        gridLines: {
                            offsetGridLines: false
                        },
                        ticks: {
                            maxRotation: 0,
                            autoSkip: false,
                            callback: function(value) {
                                return (value.substr(0, 4) + '..'); //truncate
                            },
                        }
                    }]
                },
                tooltips: {
                    enabled: true,
                    mode: 'label',
                    callbacks: {
                        title: function(tooltipItems, data) {
                            var idx = tooltipItems[0].index;
                            return data.labels[idx]; //do something with title
                        },
                    }
                },
                legend: {
                    display: false
                },
            }
        });

    </script>
</body>
