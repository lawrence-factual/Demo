<! DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>Demo</title>
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.44.0/mapbox-gl.css' rel='stylesheet' />
    <link href="style.css" rel="stylesheet" />
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.44.0/mapbox-gl.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js"></script>
    <script src="Highmaps-6/code/highcharts.js"></script>
    <script src='Highmaps-6/code/js/modules/map.js'></script>
    <script src="Highmaps-6/code/modules/data.js"></script>
    <script src="https://code.highcharts.com/mapdata/countries/us/us-all.js"></script>
    <script src='jquery-3.3.1.js'></script>
</head>

<body style="background-color: #f6f6f6;">

    <div id="logoDiv" class="fixed">
        <img id="logo" src="arbys.png">
        <h1>Arby's</h1>
        <h3>Past week</h3>
    </div>
    <!--
    <div id="searchBar" class="fixed">
        <p style="padding-left: 15px; margin-top: 13px;">Arby's</p>
    </div>
    <div id="dateBar" class="fixed">
        <p style="padding-left: 15px; margin-top: 13px;">past week</p>
    </div>

-->
    <div id="container" class="fixed">
        <div id="tabs" class="fixed">
            <a href="index.html"><h3 style="margin-right: 10px;" class="inline">Footfall</h3></a>
            <a href="behavior.html" class="active"><h3 style="margin-right: 10px;"  class="inline">Behavior</h3></a>
            <a href="demo.html"><h3 style="margin-right: 10px;"  class="inline">Demographics</h3></a>
            <a href="user.html"><h3 style="margin-right: 10px;"  class="inline">User Journey</h3></a>
        </div>

        <div class="fixed" id="container" style="top: 50px; height: 100px;">
            <table>
                <tr>
                    <td class="td1">Top Behavior Affinity</td>
                    <td class="td1">Top Chain Affinity</td>
                    <td class="td1">Top Category Affinity</td>
                </tr>
                <tr>
                    <td class="td2">NFL Enthusiasts (Pro Football Fan)

                    </td>
                    <td class="td2">Just Brakes</td>
                    <td class="td2">Swimming Pool and Maintenance Centers</td>
                </tr>
                <tr>
                    <td class="td3">687,553 visitors</td>
                    <td class="td3">22,557 visitors</td>
                    <td class="td3">63,605 visitors</td>
                </tr>
            </table>

        </div>


        <div id='behavior' class="fixed">
            <h3>Behavioral Segments More Likely to Visit</h3>
            <canvas id="profiles" width="580" height="600"></canvas>
        </div>

        <div class="fixed" style="left: 860px; top: 200px;">
            <h3>Most likely to visit if has been to...</h3>
        </div>

        <div id='chDiv' class="fixed" style="width: 560px; height: 280px;">

            <h3>Chains</h3>
            <canvas id="ch" width="560" height="260"></canvas>
        </div>

        <div id='catDiv' class="fixed" style="width: 560px; height: 280px;">
            <h3>Categories</h3>
            <canvas id="cat" width="560" height="260"></canvas>
        </div>

    </div>


    <script>
        //Chains Before
        var chB = document.getElementById("profiles").getContext('2d');
        var chBef = new Chart(chB, {
            type: 'horizontalBar',
            data: {
                labels: [
                    'NFL Enthusiasts (Pro Football Fan)', 'New Home Owners', 'In-Market Auto Intenders - Eco-Friendly Cars (Green Cars)', 'In-Market Auto Intenders - Luxury Cars', 'Newlyweds', 'Car Commuters (Daily Commuter)', 'Golfers', 'Public Transportation Commuters (Daily Commuter)', 'In-Market Auto Intenders - SUVs and Crossovers', 'Disney Enthusiasts'
                ],
                datasets: [{
                    label: 'Peet\'s',
                    data: [1.868517464, 1.492017252, 1.481572066, 1.42806739, 1.382622533, 1.381716154, 1.359896308, 1.347066074, 1.334632622, 1.305432487],
                    backgroundColor: 'rgba(255, 170, 34, 0.6)',
                    borderColor: 'rgb(255, 170, 34)',
                    borderWidth: 1
                }, ]
            },
            options: {
                scales: {
                    xAxes: [{
                        ticks: {
                            beginAtZero: true,
                        },
                        scaleLabel: {
                            display: true,
                            labelString: 'Over/under index',
                        }
                    }],
                    yAxes: [{
                        gridLines: {
                            offsetGridLines: false
                        },
                        ticks: {
                            maxRotation: 0,
                            autoSkip: false,
                            callback: function(value) {
                                return (value.substr(0, 35) + '..'); //truncate
                            },
                        }
                    }]
                },
                tooltips: {
                    enabled: true,
                    mode: 'label',
                    callbacks: {
                        title: function(tooltipItems, data) {
                            var idx = tooltipItems[0].index;
                            return data.labels[idx]; //do something with title
                        },
                    }
                },
                legend: {
                    display: false
                },
            }
        });

        //Chains Before
        var ch = document.getElementById("ch").getContext('2d');
        var cha = new Chart(ch, {
            type: 'horizontalBar',
            data: {
                labels: [
                    'Just Brakes', 'Leslie\'s Swimming Pool Supplies', 'Green Burrito', 'Boston Market', 'Direct Auto Insurance', 'AAMCO Transmissions and Total Car Care', 'Batteries Plus', 'Weight Watchers', 'Meineke Car Care Center', 'Firestone Complete Auto Care', 'Les Schwab Tire Centers', 'Liberty Travel', 'Merle Norman Cosmetic Studio', 'Del Taco', 'Safelite Auto Glass'
                ],
                datasets: [{
                    label: 'Arby\'s',
                    data: [1.523730524, 1.386884948, 1.326578491, 1.319492986, 1.288482722, 1.28061146, 1.280546701, 1.270280153, 1.269950023, 1.258891357, 1.250655872, 1.24914277, 1.246931058, 1.244732429, 1.240226665],
                    backgroundColor: 'rgba(255, 170, 34, 0.6)',
                    borderColor: 'rgb(255, 170, 34)',
                    borderWidth: 1
                }, ]
            },
            options: {
                scales: {
                    xAxes: [{
                        ticks: {
                            beginAtZero: true
                        },
                        scaleLabel: {
                            display: true,
                            labelString: 'Over/under index',
                        }
                    }],
                    yAxes: [{
                        gridLines: {
                            offsetGridLines: false
                        },
                        ticks: {
                            maxRotation: 0,
                            autoSkip: false,
                            //callback: function(value) {
                            //  return (value.substr(0, 16) + '..'); //truncate
                            //},
                        }
                    }]
                },
                tooltips: {
                    enabled: true,
                    mode: 'label',
                    callbacks: {
                        title: function(tooltipItems, data) {
                            var idx = tooltipItems[0].index;
                            return data.labels[idx]; //do something with title
                        },
                    }
                },
                legend: {
                    display: false
                },
            }
        });

        //Chains After
        var ca = document.getElementById("cat").getContext('2d');
        var cat = new Chart(ca, {
            type: 'horizontalBar',
            data: {
                labels: [
                    'Swimming Pool Maintenance and Services', 'Motorcycles, Mopeds and Scooters', 'Pools and Spas', 'Swimming', 'Deck and Patio', 'Fences, Fireplaces and Garage Doors', 'Military', 'RVs and Motor Homes', 'Gun Ranges', 'Piercing', 'Equipment Rental', 'Promotional Items', 'Smog Check', 'Pawn Shops', 'Automotive'
                ],
                datasets: [{
                    label: 'Arby\'s',
                    data: [1.61712039, 1.489348957, 1.464282186, 1.440060252, 1.4304284, 1.419952955, 1.418271532, 1.414769082, 1.413782375, 1.413374962, 1.400070831, 1.397900473, 1.396925619, 1.387498444, 1.385840252],
                    backgroundColor: 'rgba(255, 170, 34, 0.6)',
                    borderColor: 'rgb(255, 170, 34)',
                    borderWidth: 1
                }, ]
            },
            options: {
                scales: {
                    xAxes: [{
                        ticks: {
                            beginAtZero: true
                        },
                        scaleLabel: {
                            display: true,
                            labelString: 'Over/under index',
                        }
                    }],
                    yAxes: [{
                        gridLines: {
                            offsetGridLines: false
                        },
                        ticks: {
                            maxRotation: 0,
                            autoSkip: false,
                            //callback: function(value) {
                            //  return (value.substr(0, 16) + '..'); //truncate
                            //},
                        }
                    }]
                },
                tooltips: {
                    enabled: true,
                    mode: 'label',
                    callbacks: {
                        title: function(tooltipItems, data) {
                            var idx = tooltipItems[0].index;
                            return data.labels[idx]; //do something with title
                        },
                    }
                },
                legend: {
                    display: false
                },
            }
        });

    </script>
</body>
