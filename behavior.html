<! DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>Demo</title>
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.44.0/mapbox-gl.css' rel='stylesheet' />
    <link href="style.css" rel="stylesheet" />
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.44.0/mapbox-gl.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.js"></script>
    <script src="Highmaps-6/code/highcharts.js"></script>
    <script src='Highmaps-6/code/js/modules/map.js'></script>
    <script src="Highmaps-6/code/modules/data.js"></script>
    <script src="https://code.highcharts.com/mapdata/countries/us/us-all.js"></script>
    <script src='jquery-3.3.1.js'></script>
</head>

<body style="background-color: #f6f6f6;">

    <div id="searchBar" class="fixed">
        <p style="padding-left: 15px; margin-top: 13px;">Arby's</p>
    </div>
    <div id="dateBar" class="fixed">
        <p style="padding-left: 15px; margin-top: 13px;">past week</p>
    </div>

    <div id="container" class="fixed">
        <div id="tabs" class="fixed">
            <a href="index.html"><h2 style="margin-right: 10px;" class="inline">Footfall</h2></a>
            <a href="behavior.html" class="active"><h2 style="margin-right: 10px;"  class="inline">Behavior</h2></a>
            <a href="demo.html"><h2 style="margin-right: 10px;"  class="inline">Demographics</h2></a>
            <a href="user.html"><h2 style="margin-right: 10px;"  class="inline">User Journey</h2></a>
        </div>

        <div id='behavior' class="fixed">
            <h3>Behavioral Segments More Likely to Visit</h3>
            <canvas id="profiles" width="580" height="600"></canvas>
        </div>

        <div class="fixed" style="left: 660px; top: 160px;">
            <h3>Most likely to visit if has been to...</h3>
        </div>

        <div id='chDiv' class="fixed" style="width: 560px; height: 280px;">

            <h3>Chains</h3>
            <canvas id="ch" width="560" height="260"></canvas>
        </div>

        <div id='catDiv' class="fixed" style="width: 560px; height: 280px;">
            <h3>Categories</h3>
            <canvas id="cat" width="560" height="260"></canvas>
        </div>

    </div>


    <script>
        //Chains Before
        var chB = document.getElementById("profiles").getContext('2d');
        var chBef = new Chart(chB, {
            type: 'horizontalBar',
            data: {
                labels: [
                    'NFL Enthusiasts (Pro Football Fan)', 'New Home Owners', 'In-Market Auto Intenders - Eco-Friendly Cars (Green Cars)', 'In-Market Auto Intenders - Luxury Cars', 'Newlyweds', 'Car Commuters (Daily Commuter)', 'Golfers', 'Public Transportation Commuters (Daily Commuter)', 'In-Market Auto Intenders - SUVs and Crossovers', 'Disney Enthusiasts'
                ],
                datasets: [{
                    label: 'Peet\'s',
                    data: [1.868517464, 1.492017252, 1.481572066, 1.42806739, 1.382622533, 1.381716154, 1.359896308, 1.347066074, 1.334632622, 1.305432487],
                    backgroundColor: 'rgba(255, 170, 34, 0.6)',
                    borderColor: 'rgb(255, 170, 34)',
                    borderWidth: 1
                }, ]
            },
            options: {
                scales: {
                    xAxes: [{
                        ticks: {
                            beginAtZero: true,
                        },
                        scaleLabel: {
                            display: true,
                            labelString: 'Over/under index',
                        }
                    }],
                    yAxes: [{
                        gridLines: {
                            offsetGridLines: false
                        },
                        ticks: {
                            maxRotation: 0,
                            autoSkip: false,
                            callback: function(value) {
                                return (value.substr(0, 14) + '..'); //truncate
                            },
                        }
                    }]
                },
                tooltips: {
                    enabled: true,
                    mode: 'label',
                    callbacks: {
                        title: function(tooltipItems, data) {
                            var idx = tooltipItems[0].index;
                            return data.labels[idx]; //do something with title
                        },
                    }
                },
                legend: {
                    display: false
                },
            }
        });

        //Chains Before
        var ch = document.getElementById("ch").getContext('2d');
        var cha = new Chart(ch, {
            type: 'horizontalBar',
            data: {
                labels: [
                    'Just Brakes', 'Northwest Savings Bank', 'Tutor Time', 'Leslie\'s Swimming Pool Supplies', 'The Learning Experience', 'Green Burrito', 'Childtime Learning Centers', 'Boston Market', 'Direct Auto Insurance', 'AAMCO Transmissions and Total Car Care', 'Batteries Plus'
                ],
                datasets: [{
                    label: 'Peet\'s',
                    data: [1.523730524, 1.500217388, 1.399092567, 1.386884948, 1.359657719, 1.326578491, 1.322258956, 1.319492986, 1.288482722, 1.28061146, 1.280546701],
                    backgroundColor: 'rgba(255, 170, 34, 0.6)',
                    borderColor: 'rgb(255, 170, 34)',
                    borderWidth: 1
                }, ]
            },
            options: {
                scales: {
                    xAxes: [{
                        ticks: {
                            beginAtZero: true
                        },
                        scaleLabel: {
                            display: true,
                            labelString: 'Over/under index',
                        }
                    }],
                    yAxes: [{
                        gridLines: {
                            offsetGridLines: false
                        },
                        ticks: {
                            maxRotation: 0,
                            autoSkip: false,
                            callback: function(value) {
                                return (value.substr(0, 16) + '..'); //truncate
                            },
                        }
                    }]
                },
                tooltips: {
                    enabled: true,
                    mode: 'label',
                    callbacks: {
                        title: function(tooltipItems, data) {
                            var idx = tooltipItems[0].index;
                            return data.labels[idx]; //do something with title
                        },
                    }
                },
                legend: {
                    display: false
                },
            }
        });

        //Chains After
        var ca = document.getElementById("cat").getContext('2d');
        var cat = new Chart(ca, {
            type: 'horizontalBar',
            data: {
                labels: [
                    'Blood Banks and Centers', 'Swimming Pool Maintenance and Services', 'Motorcycles, Mopeds and Scooters', 'Other Healthcare Professionals', 'Pools and Spas', 'Swimming', 'Deck and Patio', 'Fences, Fireplaces and Garage Doors', 'Military', 'RVs and Motor Homes', 'Gun Ranges'
                ],
                datasets: [{
                    label: 'Peet\'s',
                    data: [1.675288214, 1.61712039, 1.489348957, 1.483426073, 1.464282186, 1.440060252, 1.4304284, 1.419952955, 1.418271532, 1.414769082, 1.413782375],
                    backgroundColor: 'rgba(255, 170, 34, 0.6)',
                    borderColor: 'rgb(255, 170, 34)',
                    borderWidth: 1
                }, ]
            },
            options: {
                scales: {
                    xAxes: [{
                        ticks: {
                            beginAtZero: true
                        },
                        scaleLabel: {
                            display: true,
                            labelString: 'Over/under index',
                        }
                    }],
                    yAxes: [{
                        gridLines: {
                            offsetGridLines: false
                        },
                        ticks: {
                            maxRotation: 0,
                            autoSkip: false,
                            callback: function(value) {
                                return (value.substr(0, 16) + '..'); //truncate
                            },
                        }
                    }]
                },
                tooltips: {
                    enabled: true,
                    mode: 'label',
                    callbacks: {
                        title: function(tooltipItems, data) {
                            var idx = tooltipItems[0].index;
                            return data.labels[idx]; //do something with title
                        },
                    }
                },
                legend: {
                    display: false
                },
            }
        });

    </script>
</body>
